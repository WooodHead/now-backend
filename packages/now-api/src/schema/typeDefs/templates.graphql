type Query {
  template(id: ID): Template
  category(id: ID): Category
  categories: [Category!]!
}

type Mutation {
  submitTemplate(input: SubmissionInput!): SubmitTemplatePayload
}

input SubmissionInput {
  templateId: String!
  responses: [ResponseInput!]!
}

input ResponseInput {
  fieldId: String
  value: FieldValueInput
}

type SubmitTemplatePayload {
  submission: Submission
}

type Category {
  id: ID!
  title: String
  description: String
  icon: Photo
  templates: [Template!]!
  createdAt: ZonedDateTime
  updatedAt: ZonedDateTime
}

type Template {
  id: ID!
  title: String
  description: String
  header: Photo
  eventWho: Field
  eventWhat: Field
  eventWhere: Field
  eventWhen: Field
  eventHow: Field
  eventSize: Field
  eventTitle: Field
  fieldOrder: [String!]!
  createdAt: ZonedDateTime
  updatedAt: ZonedDateTime
}

type Field {
  id: ID!
  type: FieldType
  defaultValue: FieldValue @deprecated
  params: GraphQLJSON
  createdAt: ZonedDateTime
  updatedAt: ZonedDateTime
}

type Submission {
  id: ID!
  template: Template
  user: User
  responses: [Response!]!
  createdAt: ZonedDateTime
  updatedAt: ZonedDateTime
}

type Response {
  id: ID!
  field: Field
  value: FieldValue
  submission: Submission
  createdAt: ZonedDateTime
  updatedAt: ZonedDateTime
}

type StringFieldValue {
  value: String
}
type IntFieldValue {
  value: Int
}
type DateTimeFieldValue {
  value: ZonedDateTime
  duration: Int
}

union FieldValue = StringFieldValue | IntFieldValue | DateTimeFieldValue

input FieldValueInput {
  intValue: Int
  stringValue: String
  dateTimeValue: ZonedDateTime
  durationValue: Int
}

enum FieldType {
  Text
  NumberRange
  Location
  DateTimeDuration
}
